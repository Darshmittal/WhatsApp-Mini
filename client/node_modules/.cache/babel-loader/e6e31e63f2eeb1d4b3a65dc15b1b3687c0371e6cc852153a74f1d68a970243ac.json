{"ast":null,"code":"var _jsxFileName = \"D:\\\\whatsapp\\\\client\\\\src\\\\components\\\\chat\\\\menu\\\\Conversation.jsx\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from 'react';\nimport { styled, Box, Typography } from \"@mui/material\";\nimport { UserContext } from '../../../context/UserProvider';\nimport { AccountContext } from '../../../context/accountprovider';\nimport { setConversation, getConversation } from '../../../service/api';\nimport { emptyProfilePicture } from '../../../constants/data';\nimport { formatDate } from '../../../utils/common-utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Component = styled(Box)`\n    height: 45px;\n    display: flex;\n    padding: 13px 0;\n    cursor: pointer;\n`;\n_c = Component;\nconst Image = styled('img')({\n  width: 50,\n  height: 50,\n  objectFit: 'cover',\n  borderRadius: '50%',\n  padding: '0 14px'\n});\n_c2 = Image;\nconst Container = styled(Box)`\n    display: flex;\n`;\n_c3 = Container;\nconst Timestamp = styled(Typography)`\n    font-size: 12px;\n    margin-left: auto;\n    color: #00000099;\n    margin-right: 20px;\n`;\nconst Text = styled(Typography)`\n    display: block;\n    color: rgba(0, 0, 0, 0.6);\n    font-size: 14px;\n`;\nconst Conversation = _ref => {\n  _s();\n  let {\n    user\n  } = _ref;\n  // const url = user.picture || emptyProfilePicture;\n\n  const {\n    setPerson\n  } = useContext(UserContext);\n  const {\n    account,\n    newMessageFlag\n  } = useContext(AccountContext);\n\n  // const [message, setMessage] = useState({});\n\n  // useEffect(() => {\n  //     const getConversationMessage = async() => {\n  //         const data = await getConversation({ senderId: account.sub, receiverId: user.sub });\n  //         setMessage({ text: data?.message, timestamp: data?.updatedAt });\n  //     }\n  //     getConversationMessage();\n  // }, [newMessageFlag]);\n\n  const getUser = async () => {\n    setPerson(user);\n    await setConversation({\n      senderId: account.sub,\n      receiverId: user.sub\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Component, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        src: user.picture,\n        alt: \"display picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Container, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Conversation, \"31Wwhf0XbQ9r7FHyCU2+5+uqrac=\");\n_c4 = Conversation;\nexport default Conversation;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Component\");\n$RefreshReg$(_c2, \"Image\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Conversation\");","map":{"version":3,"names":["useContext","useEffect","useState","styled","Box","Typography","UserContext","AccountContext","setConversation","getConversation","emptyProfilePicture","formatDate","jsxDEV","_jsxDEV","Component","_c","Image","width","height","objectFit","borderRadius","padding","_c2","Container","_c3","Timestamp","Text","Conversation","_ref","_s","user","setPerson","account","newMessageFlag","getUser","senderId","sub","receiverId","children","src","picture","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","_c4","$RefreshReg$"],"sources":["D:/whatsapp/client/src/components/chat/menu/Conversation.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\r\n\r\nimport { styled, Box, Typography } from \"@mui/material\";\r\n\r\nimport { UserContext } from '../../../context/UserProvider';\r\nimport { AccountContext } from '../../../context/accountprovider';\r\n\r\nimport { setConversation, getConversation } from '../../../service/api';\r\nimport { emptyProfilePicture } from '../../../constants/data';\r\nimport { formatDate } from '../../../utils/common-utils';\r\n\r\nconst Component = styled(Box)`\r\n    height: 45px;\r\n    display: flex;\r\n    padding: 13px 0;\r\n    cursor: pointer;\r\n`;\r\n    \r\nconst Image = styled('img') ({\r\n    width: 50,\r\n    height: 50,\r\n    objectFit: 'cover',\r\n    borderRadius: '50%',\r\n    padding: '0 14px'\r\n});\r\n\r\nconst Container = styled(Box)`\r\n    display: flex;\r\n`;\r\n\r\nconst Timestamp = styled(Typography)`\r\n    font-size: 12px;\r\n    margin-left: auto;\r\n    color: #00000099;\r\n    margin-right: 20px;\r\n`;\r\n\r\nconst Text = styled(Typography)`\r\n    display: block;\r\n    color: rgba(0, 0, 0, 0.6);\r\n    font-size: 14px;\r\n`;\r\n\r\nconst Conversation = ({ user }) => {\r\n    // const url = user.picture || emptyProfilePicture;\r\n    \r\n     const { setPerson } = useContext(UserContext);\r\n     const { account, newMessageFlag }  = useContext(AccountContext);\r\n\r\n    // const [message, setMessage] = useState({});\r\n\r\n    // useEffect(() => {\r\n    //     const getConversationMessage = async() => {\r\n    //         const data = await getConversation({ senderId: account.sub, receiverId: user.sub });\r\n    //         setMessage({ text: data?.message, timestamp: data?.updatedAt });\r\n    //     }\r\n    //     getConversationMessage();\r\n    // }, [newMessageFlag]);\r\n\r\n    const getUser = async () => {\r\n        setPerson(user);\r\n        await setConversation({ senderId: account.sub, receiverId: user.sub });\r\n    }\r\n\r\n    return (\r\n        <Component>\r\n            <Box>\r\n                <Image src={user.picture} alt=\"display picture\" />\r\n            </Box>\r\n            <Box style={{width: '100%'}}>\r\n                <Container>\r\n                    {/* <Typography>{user.name}</Typography>\r\n                    { \r\n                        message?.text && \r\n                        <Timestamp>{formatDate(message?.timestamp)}</Timestamp>        \r\n                    } */}\r\n                </Container>\r\n                <Box>\r\n                    {/* <Text>{message?.text?.includes('localhost') ? 'media' : message.text}</Text> */}\r\n                </Box>\r\n            </Box>\r\n        </Component>\r\n    )\r\n}\r\n\r\nexport default Conversation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}