{"ast":null,"code":"var _jsxFileName = \"D:\\\\whatsapp\\\\client\\\\src\\\\components\\\\chat\\\\menu\\\\Conversation.jsx\";\nimport { useContext, useEffect, useState } from 'react';\nimport { styled, Box, Typography } from \"@mui/material\";\n\n//import { UserContext } from '../../../context/UserProvider';\n//import { AccountContext } from '../../../context/accountprovider';\n\n//import { setConversation, getConversation } from '../../../service/api';\n//import { emptyProfilePicture } from '../../../constants/data';\n//import { formatDate } from '../../../utils/common-utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Component = styled(Box)`\n    height: 45px;\n    display: flex;\n    padding: 13px 0;\n    cursor: pointer;\n`;\n_c = Component;\nconst Image = styled('img')({\n  width: 50,\n  height: 50,\n  objectFit: 'cover',\n  borderRadius: '50%',\n  padding: '0 14px'\n});\n_c2 = Image;\nconst Container = styled(Box)`\n    display: flex;\n`;\n_c3 = Container;\nconst Timestamp = styled(Typography)`\n    font-size: 12px;\n    margin-left: auto;\n    color: #00000099;\n    margin-right: 20px;\n`;\n_c4 = Timestamp;\nconst Text = styled(Typography)`\n    display: block;\n    color: rgba(0, 0, 0, 0.6);\n    font-size: 14px;\n`;\n_c5 = Text;\nconst Conversation = _ref => {\n  var _message, _message2, _message3, _message3$text;\n  let {\n    user\n  } = _ref;\n  // const url = user.picture || emptyProfilePicture;\n\n  // const { setPerson } = useContext(UserContext);\n  // const { account, newMessageFlag }  = useContext(AccountContext);\n\n  // const [message, setMessage] = useState({});\n\n  // useEffect(() => {\n  //     const getConversationMessage = async() => {\n  //         const data = await getConversation({ senderId: account.sub, receiverId: user.sub });\n  //         setMessage({ text: data?.message, timestamp: data?.updatedAt });\n  //     }\n  //     getConversationMessage();\n  // }, [newMessageFlag]);\n\n  // const getUser = async () => {\n  //     setPerson(user);\n  //     await setConversation({ senderId: account.sub, receiverId: user.sub });\n  // }\n\n  return /*#__PURE__*/_jsxDEV(Component, {\n    onClick: () => getUser(),\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        src: url,\n        alt: \"display picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), ((_message = message) === null || _message === void 0 ? void 0 : _message.text) && /*#__PURE__*/_jsxDEV(Timestamp, {\n          children: formatDate((_message2 = message) === null || _message2 === void 0 ? void 0 : _message2.timestamp)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          children: (_message3 = message) !== null && _message3 !== void 0 && (_message3$text = _message3.text) !== null && _message3$text !== void 0 && _message3$text.includes('localhost') ? 'media' : message.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_c6 = Conversation;\nexport default Conversation;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Component\");\n$RefreshReg$(_c2, \"Image\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Timestamp\");\n$RefreshReg$(_c5, \"Text\");\n$RefreshReg$(_c6, \"Conversation\");","map":{"version":3,"names":["useContext","useEffect","useState","styled","Box","Typography","jsxDEV","_jsxDEV","Component","_c","Image","width","height","objectFit","borderRadius","padding","_c2","Container","_c3","Timestamp","_c4","Text","_c5","Conversation","_ref","_message","_message2","_message3","_message3$text","user","onClick","getUser","children","src","url","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","name","message","text","formatDate","timestamp","includes","_c6","$RefreshReg$"],"sources":["D:/whatsapp/client/src/components/chat/menu/Conversation.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\r\n\r\nimport { styled, Box, Typography } from \"@mui/material\";\r\n\r\n//import { UserContext } from '../../../context/UserProvider';\r\n//import { AccountContext } from '../../../context/accountprovider';\r\n\r\n//import { setConversation, getConversation } from '../../../service/api';\r\n//import { emptyProfilePicture } from '../../../constants/data';\r\n//import { formatDate } from '../../../utils/common-utils';\r\n\r\nconst Component = styled(Box)`\r\n    height: 45px;\r\n    display: flex;\r\n    padding: 13px 0;\r\n    cursor: pointer;\r\n`;\r\n    \r\nconst Image = styled('img') ({\r\n    width: 50,\r\n    height: 50,\r\n    objectFit: 'cover',\r\n    borderRadius: '50%',\r\n    padding: '0 14px'\r\n});\r\n\r\nconst Container = styled(Box)`\r\n    display: flex;\r\n`;\r\n\r\nconst Timestamp = styled(Typography)`\r\n    font-size: 12px;\r\n    margin-left: auto;\r\n    color: #00000099;\r\n    margin-right: 20px;\r\n`;\r\n\r\nconst Text = styled(Typography)`\r\n    display: block;\r\n    color: rgba(0, 0, 0, 0.6);\r\n    font-size: 14px;\r\n`;\r\n\r\nconst Conversation = ({ user }) => {\r\n    // const url = user.picture || emptyProfilePicture;\r\n    \r\n    // const { setPerson } = useContext(UserContext);\r\n    // const { account, newMessageFlag }  = useContext(AccountContext);\r\n\r\n    // const [message, setMessage] = useState({});\r\n\r\n    // useEffect(() => {\r\n    //     const getConversationMessage = async() => {\r\n    //         const data = await getConversation({ senderId: account.sub, receiverId: user.sub });\r\n    //         setMessage({ text: data?.message, timestamp: data?.updatedAt });\r\n    //     }\r\n    //     getConversationMessage();\r\n    // }, [newMessageFlag]);\r\n\r\n    // const getUser = async () => {\r\n    //     setPerson(user);\r\n    //     await setConversation({ senderId: account.sub, receiverId: user.sub });\r\n    // }\r\n\r\n    return (\r\n        <Component onClick={() => getUser()}>\r\n            <Box>\r\n                <Image src={url} alt=\"display picture\" />\r\n            </Box>\r\n            <Box style={{width: '100%'}}>\r\n                <Container>\r\n                    <Typography>{user.name}</Typography>\r\n                    { \r\n                        message?.text && \r\n                        <Timestamp>{formatDate(message?.timestamp)}</Timestamp>        \r\n                    }\r\n                </Container>\r\n                <Box>\r\n                    <Text>{message?.text?.includes('localhost') ? 'media' : message.text}</Text>\r\n                </Box>\r\n            </Box>\r\n        </Component>\r\n    )\r\n}\r\n\r\nexport default Conversation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}